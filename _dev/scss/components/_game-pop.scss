@include exports("@path:components\_game-pop.scss"){/*@path:components\_game-pop.scss*/
  .game-pop{
    width:100%;
    height:56.25vw; //h:w=9/16
    max-height:100vh;
    max-width:177.7777vh; //16/9=1.778
    @include center();
    visibility:hidden;
    z-index:2;
    color:#fff;
    --opac:.1;
    &.shown{
      visibility:visible;
      .caller{
        &:before{
          bottom:-100vh;
          left:-50vw;
          right:-100vw;
          background:#000;
          .start &{
            display:block;
          }
        }
        span{
          background-image:url(#{$path}/icons/icon-close.svg);
        }
      }
      .inner{
        opacity:1;
        @include trs('opacity #{$anim} ease-in-out');
      }
    }
    &.man .g-bg:nth-child(2){
      opacity:1;
    }
    &.woman .g-bg:nth-child(3){
      opacity:1;
    }
    &.secret .g-bg:nth-child(4){
      opacity:1;
    }
    &.gaming{
      .caller span{
        display:none;
      }
    }
    .caller{
      @include abs($t:3em,$l:3.7rem - 1.66*.75rem);
      width:5rem;
      height:5rem;
      cursor:pointer;
      visibility:visible;
      //visibility:hidden;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      /*.start &,.fromLoad &{
        visibility:visible;
      }*/
      &:before{
        content:'';
        @include abs($l:0,$r:0,$t:-50vh,$b:.5rem);
        background:getc(dark);
        pointer-events:none;
        @include trs('background #{$anim} ease-in-out,bottom #{$anim/2} ease-in-out,left #{$anim/2} ease-in-out #{$anim/2},right #{$anim/2} ease-in-out #{$anim/2}');
        .always &,.start &{
          display:none;
          transition:none;
        }
      }
      span{
        position:absolute;
        width:100%;
        height:100%;
        background:url(#{$path}/icons/icon-game.svg) center/cover no-repeat;
        z-index:1;
      }
    }
    .inner{
      @include abs($l:-1px,$r:-1px,$t:0,$b:0);
      opacity:0;
      background:#000;
      color:#fff;
      padding:2em;
    }
    .block{
      @include flx(display,flex);
      opacity:0;
      pointer-events:none;
      @include abs($l:0,$r:0,$t:0,$b:0);
      @include flx(flex-flow,'row wrap');
      @include flx(align-items,center);
      @include flx(justify-content,space-between);
      @include flx(align-content,center);
      &.shown{
        opacity:1;
        pointer-events:auto;
      }
      &:first-child{
        background: url(#{$path}game/pregame.jpg) center/cover no-repeat;
      }
    }
    .ch-text{
      width:80%;
      text-align:center;
      margin:0 auto;
      position:relative;
      @include flx(order,1);
      &:last-child{
        text-align:left;
        @include flx(order,3);
        margin-top:4em;
        font-size:.96em;
        height:8em;
        @include med(){
          font-size:.6em;
        }
      }
      span{
        font-size:1.2em;
        text-transform:uppercase;
        font-weight:700;
        position:relative;
        top:2.3em;
        letter-spacing:.1em;
      }
    }
    .ch-t-item{
      @include abs($t:5em);
      width:44%;
      &:nth-child(1){
        text-align:right;
      }
      &:nth-child(2){
        right:0;
      }
    }
    .choose{
      width:24em;
      height:9/16*24em;
      margin-top:5em;
      position:relative;
      cursor:pointer;
      @include flx(order,2);
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      &:nth-child(1){
        margin-left:7.5em;
        @include med(){
          &:hover{
            &~.secret+.ch-hover{
              opacity:1;
            }
          }
        }
        div{
          left:2em;
        }
      }
      &:nth-child(2){
        margin-right:7.5em;
        @include med(){
          &:hover{
            &~.ch-hover+.ch-hover{
              opacity:1;
            }
          }
        }
        div{
          right:2em;
        }
      }
      div{
        font-size:2.2em;
        font-weight:700;
        text-transform:uppercase;
        letter-spacing:.1em;
        color:getc(grn);
        @include abs($t:-2em);
      }
    }
    .ch-hover{
      pointer-events:none;
      @include abs($l:0,$t:0);
      width:100%;
      opacity:0;
      @include trs('opacity #{$anim} ease-in-out');
    }
    .secret{
      width:5em;
      height:3.5em;
      @include abs($t:14.5em,$r:0);
    }
    .g-bg,.g-btn,.g-hand,.g-garb-img,.g-g{
      @include abs($l:0,$t:0);
      width:100%;
      pointer-events:none;
    }
    .g-bg:nth-child(n+2){
      opacity:0;
    }
    .g-close,.g-ctrl{
      position:absolute;
      cursor:pointer;
      &:active+.g-btn,&.active+.g-btn{
        opacity:1;
      }
    }
    .g-close{
      left:4.5em;
      top:7em;
      width:5.3em;
      height:2.9em;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }
    .g-btn{
      opacity:0;
    }
    .g-ctrl{
      width:5.3em;
      height:5.3em;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      &.shown+.g-btn+.g-hand{
        opacity:1;
      }
      &.lu{
        left:4.5em;
        top:21.2em;
      }
      &.ru{
        right:4.5em;
        top:21.2em;
      }
      &.rd{
        right:4.5em;
        top:27.2em;
      }
      &.ld{
        left:4.5em;
        top:27.2em;
      }
    }
    .g-hand{
      opacity:var(--opac);
    }
    .g-g{
      opacity:var(--opac);
      &.shown{
        opacity:1;
      }
    }
    .score{
      width:100%;
      text-align:center;
      &.in-game{
        width:auto;
        @include abs($t:8em,$r:21em);
        .s-digits{
          color:#000;
          font-size:4.8em;
        }
      }
      &.curr{
        margin-top:2em;
      }
    }
    .lives{
      @include abs($t:13.3em,$r:23.2em);
      img{
        width:1em;
        opacity:var(--opac);
        margin-left:.5em;
        &.shown{
          opacity:1;
        }
      }
    }
    .s-h{
      font-size:.96em;
      @include med(){
        font-size:.6em;
      }
    }
    .s-digits{
      font-family:font2();
      font-size:4em;
      position:relative;
      display:inline-block;
      &:before{
        content:'0000';
        opacity:var(--opac);
      }
    }
    .s-d-inner{
      @include abs($r:0,$t:0);
    }
    .the-btn{
      margin:2em auto 0 auto;
      padding-left:1em;
    }
  }
}